import { RiArrowLeftLine } from 'react-icons/ri';

import { Button } from '~components';
import type { IExploit } from '~lib/exploits/interfaces';
import { runExploit } from '~lib/exploits/runExploit';

interface ExploitWindowProps {
	exploit: IExploit;
	onBackCallback: () => void;
}

export const ExploitWindow: React.FC<ExploitWindowProps> = ({
	exploit,
	onBackCallback
}) => {
	return (
		<div className="bg-dark-primary-dark">
			<div className="p-4 text-base flex w-full justify-between leading-none">
				<Button onClick={onBackCallback}>
					<RiArrowLeftLine />
				</Button>
				<p>{exploit.name}</p>
				<p>{exploit.version as string}</p>
			</div>
			<hr className="border-dark-primary border-1.5" />
			<p className="p-4 text-sm text-dark-primary-lighter text-left">
				{exploit.description}
			</p>
			<Button
				onClick={() => {
					runExploit(exploit);
				}}
				className="p-3 bg-dark-blue text-sm w-full"
			>
				<p>Hack it!</p>
			</Button>
		</div>
	);
};
